# React Starter

A pleasant little starter project bootstrapped with Create React App.

## Requirements

- Node ^13.12.0
- Yarn ^1.22.4

## Getting Started

1.  Install the project dependencies

        yarn

2.  Start the development server

        yarn start

## Environment Variables

The environment variables found in `.env` are required and are as follows:

```sh
PORT=(number) # bind port 80 of the container to this port of the host machine
APPLICATION=(web, test) # "web" starts the web server, "test" runs the tests
CONTEXT=(integration, e2e) # if set to "e2e", tests will run without mocks
REACT_APP_URL=(string) # the URL of the frontend application
REACT_APP_API_URL=(string) # the backend API URL
```

## Docker

To build the image, run:

    docker build -t joshcummingsdesign/react-starter -f docker/Dockerfile .

To start the container, run:

    docker-compose -f docker/docker-compose.yaml up

## Testing

### Visual Unit Testing

Visual unit testing is done with [Storybook](https://storybook.js.org).

To start Storybook, run

    yarn storybook

### Unit Testing / End-To-End Testing

Both unit testing and end-to-end testing are done with [Jest](https://jestjs.io).

To start Jest in interactive mode, run

    yarn test

Unit and end-to-end tests can be one in the same by utilizing the `mockData` function found in `utils/test`.

This is because the `mockData` function ignores mocks when the `CONTEXT` environment variable is set to `e2e` like so:

    CONTEXT=e2e

## Project Organization

```
locale
  en.json (generated by react-intl)
  [lang].json (generated by translation service)

models
  [name].ts

services
  [name].ts

state
  [name]
    actions.ts
    actions.spec.ts
    reducers.ts
    reducers.spec.ts
    selectors.ts
    selectors.spec.ts
    types.ts
    index.ts
  types
    [name].ts
  utils
    [name].ts
  root.ts
  store.ts

views
  components
    [name]
      [name].tsx
      [name].stories.tsx
      [name].spec.tsx
      [name]Container.tsx
      index.ts
  pages
    [name]
      [name].tsx
      [name].stories.tsx
      [name].spec.tsx
      [name]Container.tsx
      index.ts

utils
  [name].ts

App.tsx
```
